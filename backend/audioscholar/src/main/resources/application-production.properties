# Logging
logging.file.name=
logging.level.root=WARN
logging.level.edu.cit.audioscholar=INFO

# Tomcat – minimal carrier threads (virtual threads do 99% of work)
server.tomcat.threads.max=6
server.tomcat.accesslog.enabled=false

# RabbitMQ – lean & mean
spring.rabbitmq.listener.simple.concurrency=1
spring.rabbitmq.listener.simple.max-concurrency=3
spring.rabbitmq.listener.simple.prefetch=2

# HikariCP – tiny (your DB is probably Postgres on Render free tier)
spring.datasource.hikari.maximum-pool-size=3
spring.datasource.hikari.minimum-idle=1
spring.datasource.hikari.connection-timeout=8000

# Cache – tiny but useful for repeated API lookups
spring.cache.type=caffeine
spring.cache.caffeine.spec=maximumSize=250,expireAfterAccess=8m

# Virtual threads = your golden ticket on 512 MB
spring.threads.virtual.enabled=true

# Never use lazy init on low-memory instances
# spring.main.lazy-initialization=true   ← forbidden

server.port=${PORT:8080}

# Optional: faster JSON (Jackson)
spring.jackson.deserialization.fail-on-unknown-properties=false