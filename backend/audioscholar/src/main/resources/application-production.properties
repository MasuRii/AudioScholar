# ===================================================================
# RENDER PRODUCTION – 512 MB FINAL (NOV 2025)
# ===================================================================

logging.file.name=
logging.level.root=WARN
logging.level.edu.cit.audioscholar=INFO

server.tomcat.threads.max=6
server.tomcat.accesslog.enabled=false

spring.rabbitmq.listener.simple.concurrency=1
spring.rabbitmq.listener.simple.max-concurrency=3
spring.rabbitmq.listener.simple.prefetch=2

spring.datasource.hikari.maximum-pool-size=3
spring.datasource.hikari.minimum-idle=1

spring.cache.type=caffeine
spring.cache.caffeine.spec=maximumSize=250,expireAfterAccess=8m

spring.threads.virtual.enabled=true

# THIS LINE FIXES THE OOM KILL – FORCE PORT BINDING
server.port=${PORT}

# Jackson optimizations
spring.jackson.deserialization.fail-on-unknown-properties=false